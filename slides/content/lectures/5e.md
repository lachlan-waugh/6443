---
title: "x5 deserialization"
layout: "bundle"
outputs: ["Reveal"]
---

## We'll get started at 20:05

---

{{< slide class="center" >}}
## deserialization
### 6843 week5

---

{{% section %}}
## serialization

---

### what is it?

---

### can anyone think of examples of serialization

---

---

{{% /section %}}

---

{{% section %}}
I turned myself into a
## python pickle

---

### ?

---

### demo

---

### how does that work
> To the [docs](https://docs.python.org/2/library/pickle.html#pickling-and-unpickling-extension-types).
* Not every object will serialize well ([e.g. file handles](https://stackoverflow.com/a/19874769)).
* This is the user's way of specifying how to deserialize non-simple types.

{{% /section %}}

---

{{% section %}}
## prototype pollution

---

### inheritance
* for compiled languages like java, relationships are well-defined at **compile time**
* for interpreted languages, these relationships must be able to change at **runtime**

---

### kinda similar to mro in python
* javascript doesn't have traditional class-based multiple inheritance
* instead it has prototype chaining (& mixins)
* **all objects lead back to the same prototype**

---

### how are attributes resolved?
1. own properties
2. its prototype ("parent")
3. its prototypes prototype
4. so on
similarly
---

### how to exploit this?
* what if we changed the prototype of one object
* would it [ae]ffect others?

```
Object.prototype.test = "This is dangerous!";

const obj = {};
console.log(obj.test); // "This is dangerous!"
```

what about:
```
let a = {}, b = {}
a.__proto__.test = 123

console.log(b.test); // 123
```

---

### demo

{{% /section %}}
