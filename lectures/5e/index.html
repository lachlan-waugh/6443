<!doctype html><html lang=en><head><meta charset=utf-8><title>x5 deserialization</title>
<meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="black-translucent"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><link rel=stylesheet href=../../reveal-js/css/reset.css><link rel=stylesheet href=../../reveal-js/css/reveal.css><link rel=stylesheet href=../../reveal-js/css/theme/black.css id=theme><link rel=stylesheet href=../../highlight-js/default.min.css></head><body><div class=reveal><div class=slides><section><h2 id=well-get-started-at-2005>We&rsquo;ll get started at 20:05</h2></section><section data-noprocess data-shortcode-slide class=center><h2 id=deserialization>deserialization</h2><h3 id=6843-week5>6843 week5</h3></section><section><section data-shortcode-section><h2 id=serialization>serialization</h2></section><section><h3 id=what-is-it>what is it?</h3></section><section><h3 id=can-anyone-think-of-examples-of-serialization>can anyone think of examples of serialization</h3></section><section></section><section></section></section><section><section data-shortcode-section><p>I turned myself into a</p><h2 id=python-pickle>python pickle</h2></section><section><h3 id=heading>?</h3></section><section><h3 id=demo>demo</h3></section><section><h3 id=how-does-that-work>how does that work</h3><blockquote><p>To the <a href=https://docs.python.org/2/library/pickle.html#pickling-and-unpickling-extension-types>docs</a>.</p></blockquote><ul><li>Not every object will serialize well (<a href=https://stackoverflow.com/a/19874769>e.g. file handles</a>).</li><li>This is the user&rsquo;s way of specifying how to deserialize non-simple types.</li></ul></section></section><section><section data-shortcode-section><h2 id=prototype-pollution>prototype pollution</h2></section><section><h3 id=inheritance>inheritance</h3><ul><li>for compiled languages like java, relationships are well-defined at <strong>compile time</strong></li><li>for interpreted languages, these relationships must be able to change at <strong>runtime</strong></li></ul></section><section><h3 id=kinda-similar-to-mro-in-python>kinda similar to mro in python</h3><ul><li>javascript doesn&rsquo;t have traditional class-based multiple inheritance</li><li>instead it has prototype chaining (& mixins)</li><li><strong>all objects lead back to the same prototype</strong></li></ul></section><section><h3 id=how-are-attributes-resolved>how are attributes resolved?</h3><ol><li>own properties</li><li>its prototype (&ldquo;parent&rdquo;)</li><li>its prototypes prototype</li><li>so on
similarly</li></ol></section><section><h3 id=how-to-exploit-this>how to exploit this?</h3><ul><li>what if we changed the prototype of one object</li><li>would it [ae]ffect others?</li></ul><pre tabindex=0><code>Object.prototype.test = &#34;This is dangerous!&#34;;

const obj = {};
console.log(obj.test); // &#34;This is dangerous!&#34;
</code></pre><p>what about:</p><pre tabindex=0><code>let a = {}, b = {}
a.__proto__.test = 123

console.log(b.test); // 123
</code></pre></section><section><h3 id=demo>demo</h3></section></section></div></div><script type=text/javascript src=../../reveal-hugo/object-assign.js></script><a href=../../reveal-js/css/print/ id=print-location style=display:none></a><script type=text/javascript>var printLocationElement=document.getElementById("print-location"),link=document.createElement("link");link.rel="stylesheet",link.type="text/css",link.href=printLocationElement.href+(window.location.search.match(/print-pdf/gi)?"pdf.css":"paper.css"),document.getElementsByTagName("head")[0].appendChild(link)</script><script type=application/json id=reveal-hugo-site-params>null</script><script type=application/json id=reveal-hugo-page-params>null</script><script src=../../reveal-js/js/reveal.js></script><script type=text/javascript>function camelize(e){return e&&Object.keys(e).forEach(function(t){newK=t.replace(/(_\w)/g,function(e){return e[1].toUpperCase()}),newK!=t&&(e[newK]=e[t],delete e[t])}),e}var revealHugoDefaults={center:!0,controls:!0,history:!0,progress:!0,transition:"slide"},revealHugoSiteParams=JSON.parse(document.getElementById("reveal-hugo-site-params").innerHTML),revealHugoPageParams=JSON.parse(document.getElementById("reveal-hugo-page-params").innerHTML),options=Object.assign({},camelize(revealHugoDefaults),camelize(revealHugoSiteParams),camelize(revealHugoPageParams));Reveal.initialize(options)</script><script type=text/javascript src=../../reveal-js/plugin/markdown/marked.js></script><script type=text/javascript src=../../reveal-js/plugin/markdown/markdown.js></script><script type=text/javascript src=../../reveal-js/plugin/highlight/highlight.js></script><script type=text/javascript src=../../reveal-js/plugin/zoom-js/zoom.js></script><script type=text/javascript src=../../reveal-js/plugin/notes/notes.js></script></body></html>